
#include "Phylogeny.h"
#include <iostream>
#include <fstream>


int main (int argc, char * const argv[]) {
    //ifstream file((char*)argv[1]);
    //string line;
    //file >> line;
    //getline(file, line);
    //cout << line << endl;
    //Phylogeny* p = new Phylogeny(line);
    //string s = "(Alveolata-Perkinsus_marinus_XP_002781521_0.72258064516129/1-92:0.33216,((stramenopiles-Phytophthora_infestans_58120849est_0.662420382165605/1-145:0.27212,stramenopiles-Pythium_ultimum_207428920est_0.682539682539683/1-62:0.11159)0.953:0.33234,(Amoebozoa-Acanthamoeba_castellanii_106790756est_0.652694610778443/1-123:0.32614,Metazoa-Branchiostoma_floridae_260814616_0.66875/1-148:0.60666)0.935:0.21528)0.826:0.11594,(Dinophyceae-Gymnodinium_catenatum_F4S52ZS01B8DZUest_0.78/1-100:0.35175,(Dinophyceae-Alexandrium_tamarenseCCMP_Locus_62575_x_0.914772727272727/1-149:0.01087,Dinophyceae-Alexandrium_tamarenseSP_Locus_29030est_0.976510067114094/1-149:0.03266)0.975:0.25916)0.751:0.07191);"
    //string s = "((Dinophyceae-Alexandrium_tamarenseSP_Locus_10159est_0.788888888888889/1-203:0.00014,Dinophyceae-Alexandrium_tamarenseSP_SpatSW10_c2333est_0.880952380952381/1-130:0.00014)0.994:0.03338,Dinophyceae-Alexandrium_tamarenseG3_Locus_49066est_0.898203592814371/1-130:0.00014,((Dinophyceae-Alexandrium_tamarenseCCMP_Locus_11257_x_0.828671328671329/1-203:0.00014,(((Dinophyceae-Pyrodinium_bahamense_Contig6249est_0.685344827586207/1-203:0.00014,Dinophyceae-Gymnodinium_catenatum_Contig647est_0.725274725274725/1-86:0.00014)0.952:0.08585,Dinophyceae-Lingulodinium_polyedrum_53885343est_0.621212121212121/1-109:0.12030)0.958:0.11068,Dinophyceae-Alexandrium_tamarenseCCMP_Contig9732est_0.743718592964824/1-149:0.00703)0.424:0.00800)0.787:0.00015,((((Jakobida-Reclinomonas_americana_110100921est_0.506493506493506/1-77:0.79667,(((Choanoflagellida-Monosiga_brevicollis_170637742est_0.526315789473684/1-76:0.36305,Metazoa-Hydra_magnipapillata_221127344_0.512820512820513/1-201:0.62425)0.484:0.26268,((Fungi-Podospora_anserina_171680195_0.644736842105263/1-196:0.12519,Fungi-Gibberella_zeae_46108276_0.653846153846154/1-187:0.24545)0.999:0.52929,((Fungi-Candida_dubliniensis_241957313_0.608695652173913/1-200:0.01219,Fungi-Candida_albicans_68469200_0.594202898550725/1-200:0.01661)1.000:0.26126,(Fungi-Debaryomyces_hansenii_50427941_0.575342465753425/1-200:0.21248,Fungi-Clavispora_lusitaniae_260945403_0.575757575757576/1-201:0.30442)0.341:0.05681)0.975:0.27640)0.925:0.27728)0.830:0.31145,(Euglenozoa-Euglena_gracilis_125989162est_0.545454545454545/1-76:0.92864,Parabasalia-Trichomonas_vaginalis_123439730_0.538461538461538/1-112:0.94964)0.806:0.21882)0.734:0.15344)0.799:0.24497,(stramenopiles-Phaeodactylum_tricornutum_144675073est_0.578947368421053/1-76:0.67324,stramenopiles-Nannochloropsis_oculata_110745751est_0.605263157894737/1-76:0.60641)0.739:0.16676)0.517:0.18977,(Amoebozoa-Entamoeba_dispar_167376579_0.538461538461538/1-187:0.00052,Amoebozoa-Entamoeba_histolytica_183232315_0.538461538461538/1-93:0.04222)1.000:1.99872)0.959:0.68467,Dinophyceae-Alexandrium_tamarense_42749063est_0.885496183206107/1-100:0.00014)0.819:0.01012)0.900:0.01104);";
    string s = "((Proteobacteria-Nitrobacter_sp._85716492_0.644444444444444/1-130:0.34944,(Gemmatimonadetes-Gemmatimonas_aurantiaca_226229169_0.64/1-130:0.42026,Cyanobacteria-Gloeobacter_violaceus_37521141_0.644444444444444/1-130:1.00085)0.760:0.21208)0.590:0.10376,Verrucomicrobia-Verrucomicrobiae_bacterium_254443771_0.6/1-129:0.44264,((Haptophyceae-Emiliania_huxleyi_58187149est_0.607843137254902/1-51:0.27297,(Dinophyceae-Gymnodinium_catenatum_GcatSW0_c1238est_0.625/1-88:0.16873,(Dinophyceae-Alexandrium_tamarenseSP_Locus_138074est_0.858695652173913/1-92:0.01069,(Dinophyceae-Alexandrium_tamarenseG3_Locus_1622est_0.858695652173913/1-92:0.00015,(Dinophyceae-Alexandrium_tamarenseCCMP_Locus_1270_x_0.843373493975904/1-121:0.00016,Dinophyceae-Alexandrium_tamarenseCCMP_AtamSW0_c21291est_0.855555555555556/1-90:0.00014)0.847:0.01088)0.606:0.01123)0.996:0.55283)0.885:0.39247)0.972:0.65158,Proteobacteria-Methylobacterium_sp._170738947_0.634615384615385/1-129:0.39942)0.217:0.08854);";
    cerr << s << endl;
    Phylogeny* p = new Phylogeny(s);
    cout << p->root->print("") << endl;
}
